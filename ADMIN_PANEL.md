# Панель администратора салона красоты

## Структура проекта

Панель администратора построена с использованием следующих технологий:
- React.js с TypeScript
- React Router для навигации
- Axios для API запросов (через кастомный API сервис)
- Компоненты из shadcn/ui (основаны на Radix UI)
- React Query для управления состоянием и кэширования запросов

## Основные страницы

### 1. Логин (/admin/login)
- Страница авторизации администратора
- Аутентификация через токен (BACKEND_TOKEN из .env файла)

### 2. Дашборд (/admin/dashboard)
- Общая статистика салона:
  - Всего записей
  - Подтвержденные записи
  - Ожидающие подтверждения
  - Количество клиентов
- Быстрые действия для основных задач

### 3. Управление пользователями (/admin/users)
- Список всех клиентов салона
- Фильтрация по статусу (активные/заблокированные)
- Поиск по имени или телефону
- Возможность изменения статуса клиента

### 4. Управление контентом (/admin/content)
- Три вкладки:
  - Услуги: список и создание услуг
  - Мастера: список и создание мастеров
  - Предложения: связь между мастерами и услугами с ценами

### 5. Управление записями (/admin/appointments)
- Список всех записей клиентов
- Фильтрация по статусу (подтвержденные/ожидающие)
- Поиск по различным полям
- Подтверждение и удаление записей

### 6. Настройки (/admin/settings)
- Настройки информации о салоне
- Настройки уведомлений
- Изменение пароля администратора

## Компоненты

### AdminLayout
- Основной layout с боковой навигацией
- Header с заголовком страницы
- Боковое меню с навигацией

### UI Компоненты
- Header с меню пользователя
- Sidebar с навигацией
- DataTable для списков
- Модальные окна для форм
- Уведомления и алерты (через toast)

## Интеграция с бэкендом

### API endpoints

#### Аутентификация
- `POST /api/login` - вход администратора (симуляция)

#### Статистика
- `GET /api/appointments/` - получение всех записей
- `GET /api/customers/` - получение всех клиентов
- `GET /api/services/` - получение всех услуг
- `GET /api/masters/` - получение всех мастеров

#### Управление клиентами
- `GET /api/customers/` - получение списка клиентов
- `PATCH /api/customers/{phone}/status/` - изменение статуса клиента

#### Управление услугами
- `GET /api/services/` - получение списка услуг
- `POST /api/services/` - создание новой услуги

#### Управление мастерами
- `GET /api/masters/` - получение списка мастеров
- `POST /api/masters/` - создание нового мастера

#### Управление предложениями
- `GET /api/offerings/` - получение списка предложений
- `POST /api/offerings/` - создание нового предложения

#### Управление записями
- `GET /api/appointments/` - получение списка записей
- `POST /api/appointments/{id}/admin_confirm/` - подтверждение записи администратором
- `DELETE /api/appointments/{id}/` - удаление записи

## Переменные окружения

Для работы панели администратора необходимо создать файл `.env` в директории `frontend` со следующими переменными:

```
VITE_API_URL=http://localhost:8000
VITE_ADMIN_TOKEN=your_backend_token_here
```

Где `your_backend_token_here` - это значение переменной `BACKEND_TOKEN` из файла `.env` бэкенда.

## Запуск

1. Убедитесь, что бэкенд запущен
2. Перейдите в директорию `frontend`
3. Установите зависимости: `npm install`
4. Создайте файл `.env` с необходимыми переменными
5. Запустите приложение: `npm run dev`
6. Перейдите по адресу `http://localhost:5173/admin/login`